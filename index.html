<html>
	<head>
	<% styles.forEach( function ( file ) { %>
    <link rel="stylesheet" type="text/css" href="<%= file %>" /><% }); %>
		
		<style type="text/css">
		     body,html { 
		     	width: 100%;
      			height: 100%; 
      			margin: 0; 
      			padding: 0; 
      		}
      		#canvas{
				background-color: black; 			
      		}
      		#textbox{
      			position: absolute;
      			/*display: none;*/
      			z-index: 9;
      			/*background-color: gray;*/
      		}
			.draw-pad{				
				height: 80%;
			}
			.chat-box{
				background-color: gray;
				height: 80%;
				overflow: auto;
			}
			.emoticon{
				width: 100;
      			height: 100; 		
			}
			.emoticon-box{
				width: 100%;
				overflow-x: scroll; 
				white-space:nowrap;
			}
			.chat-box img{
				padding: 10; 
			}
		</style>
	</head>


	<body ng-app="socket" ng-controller="MainCtrl">

		<script type="text/ng-template" id="hand_write.html">
			<div class="draw-pad">
				<div>
					<button ng-repeat="t in tools" ng-click="changeTool($index)">{{t}}</button>
					<button ng-repeat="a in attrs" ng-click="changeAttr($index)">{{a}}</button>
				</div>
				<div id="canvas" hand-writer tool="{{tool}}"></div>
			</div>
		</script>

		<script type="text/ng-template" id="text_write.html">
			<div class="draw-pad">
				<div>
					<button ng-repeat="t in tools" ng-click="changeTool($index)">{{t}}</button>
					<button ng-repeat="a in attrs" ng-click="changeAttr($index)">{{a}}</button>
				</div>
					<input id="textbox" ng-model="text">
					<div id="canvas" text-writer tool="{{tool}}" text="{{text}}">
				</div>
			</div>
		</script>

		<script type="text/ng-template" id="chat.html">
			<div>
				<div class="chat-box">
					<div ng-repeat="msg in msgs">
						<img ng-src="{{msg}}" class="emotion">
					</div>
				</div>
				<!-- <button ng-click="sendMsg()">Send</button>
				<input type="text" ng-model="text"> -->
				<div class="emoticon-box">
					<emoticon emotion="img"></emoticon>
				</div
			</div>
		</script>

		<script type="text/ng-template" id="menu.html">
			<div>
				<div>
					<button ng-click="connect()">Connect</button>		
					<button ng-click="disconnect()">Disconnect</button>
				</div>
				<div>
					<input type="text" ng-model="room">
					<button ng-click="create()">Create Room</button>
					<button ng-click="close()">Close Room</button>
				</div>
			</div>
		</script>

		<script type="text/ng-template" id="emoticon.html">
			<div>
			<img ng-repeat="emo in emotions" ng-src="{{url+emo}}" ng-click="select($index)" class="emoticon">			
			</div>
		</script>

		<div class="container">
			<div class="row">
				<menu></menu>
				<ng-view class="col-lg-8"></ng-view>
				<chat class="col-lg-4"></chat>
			</div>
		</div>

	<% scripts.forEach( function ( file ) { %>
    <script type="text/javascript" src="<%= file %>"></script><% }); %>
    
	</body>
</html>